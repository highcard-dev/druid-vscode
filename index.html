<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VS Code Web</title>
    <link rel="stylesheet" href="./out/vs/workbench/workbench.web.main.css" />
  </head>
  <body style="margin: 0; height: 100vh">
    <div id="root" style="height: 100vh; width: 100vw"></div>
    <script src="./out/nls.messages.js"></script>
    <script src="./out/vs/loader.js"></script>
    <script>
      // Configure loader with base URL only
      require.config({
        baseUrl: window.location.origin + "/out",
        colorScheme: "dark",
      });

      require(["vs/workbench/workbench.web.main"], (workbench) => {
        workbench.create(document.getElementById("root"), {
          productConfiguration: {
            nameShort: "Druid Web Editor",
            nameLong: "Druid Web Editor",
            applicationName: "code-web",
            dataFolderName: ".vscode-web",
            extensionsGallery: {
              serviceUrl: "https://open-vsx.org/vscode/gallery",
              itemUrl: "https://open-vsx.org/vscode/item",
              resourceUrlTemplate:
                "https://openvsxorg.blob.core.windows.net/resources/{publisher}/{name}/{version}/{path}",
            },
            extensionEnabledApiProposals: {
              "vscode.vscode-web-playground": [
                "fileSearchProvider",
                "textSearchProvider",
              ],
            },
          },
          folderUri: {
            scheme: "memfs",
            path: "/",
          },
          additionalBuiltinExtensions: [
            {
              scheme: window.location.protocol === "http:" ? "http" : "https",
              authority: window.location.host,
              path: "/extensions/webdav-fsprovider",
            },
          ],
        });
      });
    </script>
  </body>
</html>
